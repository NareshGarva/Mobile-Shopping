<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Account</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />

    <link
      rel="stylesheet"
      href="../css/style.css"
      type="text/css"
      media="all"
    />
            <link
      rel="stylesheet"
      href="../css/global-Product.css"
      type="text/css"
      media="all"
    />
    <link
      rel="stylesheet"
      href="../css/components-css/account-page-sidebar.css"
      type="text/css"
      media="all"
    />
        <link
      rel="stylesheet"
      href="../css/components-css/account-page-deshbord.css"
      type="text/css"
      media="all"
    />
            <link
      rel="stylesheet"
      href="../css/components-css/account-page-order.css"
      type="text/css"
      media="all"
    />
                <link
      rel="stylesheet"
      href="../css/components-css/account-page-address.css"
      type="text/css"
      media="all"
    />
</head>

<body>
  <div id="accountPageHeader"></div>
  
   <div class="main-content" id="mainContent">
<div id="dashboard">
  <div id="accountPageDashboard"></div>
</div>
<div id="order" class="d-none">
  <div id="accountPageOrders"></div>
</div>
<div id="address" class="d-none">
  <div id="accountPageAddress">
  </div>
</div>
<div id="logout" class="d-none">
        <h3>Logged Out</h3>
      <p>You have been logged out.</p>
</div>
    </div>
</body>
<script>
  


  const token = localStorage.getItem("token");

fetch('http://localhost:3000/api/auth/profile', {
  method: 'GET',
  headers: {
    'Authorization': `Bearer ${token}` // Send token in header
  }
})
.then(res => {
  if (res.status === 401 || res.status === 403) {
    alert("Please login to access this page.");
    window.location.href = "/Frontend/User%20Module/pages/Authentication.html";
  }
  return res.json();
})
.then(data => {
  console.log(data);
  document.getElementById("profileName").textContent = data.user.email;
});

</script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
      <script
    src="../js/global-product.js"
    type="module"
    charset="utf-8" 
    defer
  ></script>
    <script src="../js/components-js/account-page-sidebar.js" defer></script>
    <script src="../js/components-js/account-page-deshbord.js" defer></script>
    <script src="../js/components-js/account-page-order.js" defer></script>
    <script src="../js/components-js/account-page-address.js" defer></script>
</html>